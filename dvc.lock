make_dataset:
  cmd: python3 src/data/make_dataset.py -c titanic -tr train.csv -te test.csv -o ./data/raw
  deps:
  - path: src/data/make_dataset.py
    md5: 6003407559d33e14c4122af507648dfd
    size: 2280
  params:
    params.yaml:
      dtypes:
        Age: float
        Embarked: category
        Fare: float
        Parch: int
        Pclass: category
        Sex: category
        SibSp: int
        Survived: category
  outs:
  - path: data/raw/test.csv
    md5: 029c9cd22461f6dbe8d9ab01def965c6
    size: 28629
  - path: data/raw/train.csv
    md5: 61fdd54abdbf6a85b778e937122e1194
    size: 61194
  - path: reports/figures/data_dictionary.tex
    md5: 10c5361db59b330722bd70b83ce0fcee
    size: 1521
  - path: reports/figures/table_one.tex
    md5: 4581508bdb37e12d9b9b5ff03244390d
    size: 844
encode_labels:
  cmd: python3 src/data/encode_labels.py -tr data/raw/train.csv -te data/raw/test.csv
    -o data/interim
  deps:
  - path: data/raw/test.csv
    md5: 029c9cd22461f6dbe8d9ab01def965c6
    size: 28629
  - path: data/raw/train.csv
    md5: 61fdd54abdbf6a85b778e937122e1194
    size: 61194
  - path: src/data/encode_labels.py
    md5: 94202f6ff677094ae0bf8b98575baf50
    size: 3623
  params:
    params.yaml:
      dtypes:
        Age: float
        Embarked: category
        Fare: float
        Parch: int
        Pclass: category
        Sex: category
        SibSp: int
        Survived: category
  outs:
  - path: data/interim/label_encoding.yaml
    md5: 8e736d94ad872a9a10f2321653990609
    size: 115
  - path: data/interim/test_categorized.csv
    md5: f0fcdcd7bb08c23d382a665ac1436034
    size: 10788
  - path: data/interim/train_categorized.csv
    md5: 5d06666c95fed743140b44190fb67c77
    size: 23884
impute_nan:
  cmd: python3 src/data/replace_nan.py -tr data/interim/train_categorized.csv -te
    data/interim/test_categorized.csv -o data/interim
  deps:
  - path: data/interim/test_categorized.csv
    md5: f0fcdcd7bb08c23d382a665ac1436034
    size: 10788
  - path: data/interim/train_categorized.csv
    md5: 5d06666c95fed743140b44190fb67c77
    size: 23884
  - path: src/data/replace_nan.py
    md5: 8ce621f788a633ea0e97dec734b121ad
    size: 2804
  params:
    params.yaml:
      imputation:
        Age: 29.6991
        Fare: 32.2042
  outs:
  - path: data/interim/test_nan_imputed.csv
    md5: cbc38434c407b0761da80a422ba97cff
    size: 11136
  - path: data/interim/train_nan_imputed.csv
    md5: 9edd0421f46d2f0786ea6d82fdcf4e12
    size: 24592
build_features:
  cmd: python3 src/features/build_features.py -tr data/interim/train_nan_imputed.csv
    -te data/interim/test_nan_imputed.csv -o data/interim/
  deps:
  - path: data/interim/test_nan_imputed.csv
    md5: cbc38434c407b0761da80a422ba97cff
    size: 11136
  - path: data/interim/train_nan_imputed.csv
    md5: 9edd0421f46d2f0786ea6d82fdcf4e12
    size: 24592
  - path: src/features/build_features.py
    md5: 355d8aeebd12fcfbedaa30bb32d155f3
    size: 4384
  params:
    params.yaml:
      feature_eng:
        featurize: true
      random_seed: 12345
  outs:
  - path: data/interim/test_featurized.csv
    md5: 6786b97bc7cb81d8e606164c1a0aff8f
    size: 63465
  - path: data/interim/train_featurized.csv
    md5: 66d32b8498ff4a1b725c2567d76be9bc
    size: 135570
normalize_data:
  cmd: python3 src/features/normalize.py -tr data/interim/train_featurized.csv -te
    data/interim/test_featurized.csv -o data/processed/
  deps:
  - path: data/interim/test_featurized.csv
    md5: 6786b97bc7cb81d8e606164c1a0aff8f
    size: 63465
  - path: data/interim/train_featurized.csv
    md5: 66d32b8498ff4a1b725c2567d76be9bc
    size: 135570
  - path: src/features/normalize.py
    md5: 1e67fe2375c91a702144569d41a9f9c1
    size: 1924
  params:
    params.yaml:
      normalize:
  outs:
  - path: data/processed/test_processed.csv
    md5: 50b3bac148656fdb133e84efcc5d69b7
    size: 62995
  - path: data/processed/train_processed.csv
    md5: c1036b801f92d1b77135eab799e92657
    size: 134727
split_train_dev:
  cmd: python3 src/data/split_train_dev.py -tr data/processed/train_processed.csv
    -o data/processed/
  deps:
  - path: data/processed/train_processed.csv
    md5: c1036b801f92d1b77135eab799e92657
    size: 134727
  - path: src/data/split_train_dev.py
    md5: 18368dc893cc1b306e39f62f6d460861
    size: 2966
  params:
    params.yaml:
      random_seed: 12345
      train_test_split:
        n_split: 10
        shuffle: true
        target_class: Survived
  outs:
  - path: data/processed/split_train_dev.csv
    md5: d4d2c3159380a986fc2f04a8bcffda08
    size: 56115
train_model:
  cmd: python3 src/models/train_model.py -tr data/processed/train_processed.csv -cv
    data/processed/split_train_dev.csv
  deps:
  - path: data/processed/split_train_dev.csv
    md5: d4d2c3159380a986fc2f04a8bcffda08
    size: 56115
  - path: data/processed/train_processed.csv
    md5: c1036b801f92d1b77135eab799e92657
    size: 134727
  - path: src/models/train_model.py
    md5: 393a733bef3fbe5b26772193d9450585
    size: 4424
  params:
    params.yaml:
      classifier: random_forest
      model_params:
        logistic_regression:
        naive_bayes:
        neural_network:
        random_forest:
          criterion: entropy
          max_depth: 12
          min_samples_leaf: 8
          min_samples_split: 9
        support_vector_machine:
        xgboost:
      random_seed: 12345
      train_test_split.target_class: Survived
  outs:
  - path: models/estimator.pkl
    md5: 5b43862fe043874e485be606240962cd
    size: 5576760
  - path: results/metrics.json
    md5: d1c30e27b3cbc0c93c1c00aaebc0ef0e
    size: 318
predict_output:
  cmd: python3 src/models/predict.py -te data/processed/test_processed.csv -rd results/
    -md models/
  deps:
  - path: data/processed/test_processed.csv
    md5: 50b3bac148656fdb133e84efcc5d69b7
    size: 62995
  - path: models/estimator.pkl
    md5: 5b43862fe043874e485be606240962cd
    size: 5576760
  - path: src/models/metrics.py
    md5: 69f52aa7384511f15c07d1504b368643
    size: 2056
  - path: src/models/predict.py
    md5: 3ba9b367a92a19518c0d7fa28426f7a1
    size: 3268
  params:
    params.yaml:
      predict:
        js_estimator: true
      train_test_split.target_class: Survived
  outs:
  - path: results/test_predict_binary.csv
    md5: b653e55426225891a1d2833599ac39ec
    size: 2839
  - path: results/test_predict_proba.csv
    md5: 12009a8673d5f63ec1ba862a6a163866
    size: 10092
